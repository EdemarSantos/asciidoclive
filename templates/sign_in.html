{# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
 #                         Copyright (C) 2014 Chuan Ji                         #
 #                             All Rights Reserved                             #
 # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
 # Sign-in window. #}

{# Sign-in settings. #}
{% set FACEBOOK_APP_ID = '644477638972528' %}


{# Google+. #}

{# Facebook. #}
{% macro FacebookJs(app_id) %}
  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '{{ app_id }}',
        xfbml      : true,
        version    : 'v2.0'
      });
    };

    (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "https://connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));
  </script>
{% endmacro %}
{% macro FacebookSignInButton() %}
  <span
    class="fb-login-button"
    data-max-rows="1"
    data-size="xlarge"
    data-show-faces="false"
    data-auto-logout-link="false"
    data-scope="public_profile,email"></span>
{% endmacro %}

{# Renders a sign-in button for the given provider.
 # Args:
 #   - name: the type of sign-in scheme, as an identifier.
 #   - icon_name: FontAwesome icon name.
 #   - title: title to display for the button.
 #}
{% macro SignInButton(name, icon_name, title) %}
  <a href="#"
    data-sign-in-type="{{ name }}"  {# For Dart. #}
    class="sign-in-button sign-in-button-{{ name }}">
    <table><tr>
      <td class="icon"><span class="fa {{ icon_name }} fa-lg"></span></td>
      <td class="title">{{ title }}</td>
    </tr></table>
  </a>
{% endmacro %}


{# Sign-in window. #}

{# Overlay window that dims the normal page. Used during sign-in. #}
<div id="overlay" {# class="hidden" #}>&nbsp;</div>
{# Sign in window. #}
<div id="sign-in-window-wrapper-1"><div id="sign-in-window-wrapper-2">
  <div id="sign-in-window">
    <div class="header">
      <img src="{{ url_for('static', filename='logo.png') }}">
    </div>
    <div class="body">
      <div class="prompt">Sign in with...</div>
      {{ SignInButton('facebook', 'fa-facebook', 'Facebook') }}
      {{ SignInButton('google', 'fa-google', 'Google') }}
      {{ SignInButton('twitter', 'fa-twitter', 'Twitter') }}
      {{ SignInButton('linkedin', 'fa-linkedin', 'LinkedIn') }}
    </div>
  </div>
</div></div>

{# {{ FacebookJs(FACEBOOK_APP_ID) }} #}
