{# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
 #                         Copyright (C) 2014 Chuan Ji                         #
 #                             All Rights Reserved                             #
 # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
 # Sign-in window. #}


{# Renders a sign-in button for the given provider.
 # Args:
 #   - name: the account provider identifier.
 #   - icon_name: FontAwesome icon name.
 #   - title: title to display for the button.
 #}
{% macro SignInButton(name, icon_name, title) %}
  <a href="#"
    data-account-provider-type="{{ name }}"  {# For Dart. #}
    class="sign-in-button sign-in-button-{{ name }}">
    <table><tr>
      <td class="icon"><span class="fa {{ icon_name }} fa-lg"></span></td>
      <td class="title">{{ title }}</td>
    </tr></table>
  </a>
{% endmacro %}


{# Sign-in window. #}

{# Overlay window that dims the normal page. Used during sign-in. #}
<div id="overlay" {# class="hidden" #}>&nbsp;</div>
{# Sign in window. #}
<div id="sign-in-window-wrapper-1"><div id="sign-in-window-wrapper-2">
  <div id="sign-in-window">
    <div class="header">
      <img src="{{ url_for('static', filename='logo.png') }}">
    </div>
    <div class="body">
      <div class="prompt">Sign in with...</div>
      {{ SignInButton('facebook', 'fa-facebook', 'Facebook') }}
      {{ SignInButton('google', 'fa-google', 'Google') }}
      {# Not implemented yet.
        {{ SignInButton('twitter', 'fa-twitter', 'Twitter') }}
        {{ SignInButton('linkedin', 'fa-linkedin', 'LinkedIn') }}
      #}
    </div>
  </div>
</div></div>


{# Google API JavaScript client. #}
<script type="text/javascript">
  (function() {
     var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
     po.src = 'https://apis.google.com/js/client:plusone.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
   })();
</script>

{# Facebook JavaScript SDK. #}
<div id="fb-root"></div>
<script>
  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
